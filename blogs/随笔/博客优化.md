---
title: åšå®¢ä¼˜åŒ–
date: 2023-05-27
sidebar: 'auto'
categories: 
 - åšå®¢
---

[toc]

# åšå®¢ä¼˜åŒ–

å½“å‰vuepressåšå®¢ä½¿ç”¨çš„ä¸»é¢˜æ˜¯vuepress-recoã€‚å½“å‰ä½¿ç”¨ç‰ˆæœ¬ä¸º1.xç‰ˆæœ¬ã€‚

[vuepress-recoç½‘ç«™ http://v1.vuepress-reco.recoluan.com/](http://v1.vuepress-reco.recoluan.com/)

## è‡ªåŠ¨æäº¤ä»£ç åˆ°githubä»“åº“

é€šè¿‡è„šæœ¬æ¥è‡ªåŠ¨æäº¤ä»£ç åˆ°githubä»“åº“ã€‚

push.sh 
```bash
# è¯¥è„šæœ¬ä¸»è¦åˆ†ä¸¤ä¸ªéƒ¨åˆ†ã€‚
# ç¬¬ä¸€ä¸ªéƒ¨åˆ†: æäº¤ä»£ç åˆ°åšå®¢æºä»£ç ä»“åº“ https://github.com/suichentree/suichenblog.git
# ç¬¬ä¸€ä¸ªéƒ¨åˆ†: å°†æºä»£ç æ‰“åŒ…è¿è¡Œï¼Œç”Ÿæˆåšå®¢é¡µé¢ä»£ç åã€‚å°†é¡µé¢ä»£ç æäº¤åˆ°åšå®¢é¡µé¢ä»“åº“ https://github.com/suichentree/suichentree.github.io.git

# æ³¨æ„1: åœ¨gitç»ˆç«¯ä¸­è¿è¡Œè„šæœ¬ã€‚
# æ³¨æ„2: ä½¿ç”¨ source push.sh å‘½ä»¤è¿è¡Œè¯¥æ–‡ä»¶ã€‚bash push.sh å‘½ä»¤æ— æ³•æ‰§è¡Œè„šæœ¬ä¸­çš„cdå‘½ä»¤,sourceå‘½ä»¤å¯ä»¥ã€‚

# å®šä¹‰commitæ–¹æ³•
function commit() {
    #å®šä¹‰å˜é‡commitMessage,å¹¶æ¥å—å¤–éƒ¨è¾“å…¥èµ‹å€¼
    read -p "è¾“å…¥commitMessage: " commitMessage 
    echo "commitMessage is  $commitMessage"
    #å°†æš‚å­˜åŒºçš„æ–‡ä»¶æäº¤åˆ°æœ¬åœ°åˆ†æ”¯ä¸­
    git commit -m $commitMessage
}

# å®šä¹‰pushæ–¹æ³•
function push(){
    # æœ¬åœ°åˆ†æ”¯å¼ºåˆ¶æ¨é€æœ€æ–°æ–‡ä»¶åˆ°è¿œç¨‹åˆ†æ”¯
    git push -f origin master
    # $?å¯ä»¥è·å–git push -f origin masterå‘½ä»¤æ˜¯å¦è¿è¡ŒæˆåŠŸï¼ŒæˆåŠŸè¿”å›0ï¼Œå¦åˆ™é0ã€‚
    if [ $? -eq 0 ] 
    then
        # ä¸Šä¼ æˆåŠŸï¼Œæ–¹æ³•ç»“æŸ
        echo "SUCCESS , git push success"
    else     
        # ä¸Šä¼ å¤±è´¥ï¼Œé‡æ–°æ‰§è¡Œä¸Šä¼ å‘½ä»¤
        echo "ERROR , git push fail"
        # å»¶è¿Ÿ5ç§’
        sleep 5s
        # é‡æ–°æ‰§è¡Œpushæ–¹æ³•
        echo "Push Code to Remote Repository Again -------------------"
        push
    fi
}


# è„šæœ¬ä»è¿™é‡Œå¼€å§‹--------------
echo "Start Run push.sh -------------------"

# ç¬¬ä¸€éƒ¨åˆ† start--------------------------
echo "Start Run Part1 -------------------"

# å°†æ‰€æœ‰å˜åŠ¨æ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒº
git add -A

# æ£€æŸ¥æ˜¯å¦æœ‰æ–‡ä»¶éœ€è¦æäº¤
check_commit=`git status`
if [[ $check_commit =~ "Changes to be committed:" ]] 
then 
    # è¿˜æœ‰æ–‡ä»¶è¦æäº¤
    echo "YES,some file need commit."
    # æ‰§è¡Œæäº¤æ–¹æ³•
    commit
else     
    # æ²¡æœ‰æ–‡ä»¶éœ€è¦æäº¤
    echo "NO, no file need commit"
fi

# æ‰§è¡Œpushæ–¹æ³•
push

# ç¬¬äºŒéƒ¨åˆ† start--------------------------
echo "Start Run Part2 -------------------"

# ç”Ÿæˆåšå®¢é™æ€æ–‡ä»¶
npm run build

# è¿›å…¥ç”Ÿæˆçš„æ–‡ä»¶å¤¹
cd public

# åˆå§‹åŒ–ä¸ºgitä»“åº“
git init

# æ·»åŠ åˆ°æš‚å­˜åŒº
git add -A

# è·å–å½“å‰æ—¶é—´
time3=$(date "+%Y-%m-%d %H:%M:%S")

# æäº¤åˆ°æœ¬åœ°åˆ†æ”¯
git commit -m "deploy blog $time3"

# æ·»åŠ è¿œç¨‹åº“åœ°å€
git remote add origin https://github.com/suichentree/suichentree.github.io.git

# æ‰§è¡Œpushæ–¹æ³•
push

# å›åˆ°ä¸Šçº§ç›®å½•ä¸­
cd ..

# è„šæœ¬ä»è¿™é‡Œç»“æŸ--------------
echo "push.sh run finish -------------------"
```


## ç»™æ–‡ç« ä¸‹æ–¹æ·»åŠ è¯„è®ºåŠŸèƒ½

[å‚è€ƒæ–‡ç« ](https://github.com/mqyqingfeng/Blog/issues/270)

vuepress-recoä¸»é¢˜å†…ç½®è¯„è®ºæ’ä»¶ `@vuepress-reco/vuepress-plugin-comments`ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½é€‰æ‹© Valine æˆ–è€… Vssueï¼›

Valineå’ŒVssueéƒ½æ˜¯è¯„è®ºæ’ä»¶ï¼Œæˆ‘é€‰æ‹©çš„æ˜¯Vssueè¯„è®ºæ’ä»¶ã€‚

> Vssueæ˜¯ä»€ä¹ˆï¼Ÿ

[Vssueæ’ä»¶å®˜ç½‘åœ°å€](https://vssue.js.org/zh/)

Vssue æ˜¯ä¸€ä¸ª Vue é©±åŠ¨çš„ã€åŸºäº Issue çš„è¯„è®ºæ’ä»¶ã€‚

ç‰¹ç‚¹æ˜¯æ”¯æŒå¤šä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼ŒåŒ…æ‹¬ GitHubã€GitLabã€Bitbucketã€ Gitee å’Œ Giteaã€‚å› ä¸ºåŸºäº Vueï¼Œå¯ä»¥ä½œä¸º Vue æ’ä»¶ä½¿ç”¨ï¼Œè½»æ¾é›†æˆåˆ° Vue åº”ç”¨ä¸­ã€‚

è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯GitHubå¹³å°æ¥ä¿å­˜æˆ‘çš„è¯„è®ºæ•°æ®ã€‚

> å®ç°æ–¹å¼

1. åˆ›å»º GitHub OAuth App

ç™»å½•ä½ çš„GitHubè´¦æˆ·-ã€‹é€‰æ‹©setting -ã€‹Developer Settings -ã€‹OAuth Apps -ã€‹New OAuth App

![blog_20230809223524.png](../blog_img/blog_20230809223524.png)

2. å¡«å†™ä¿¡æ¯

![blog_20230809223958.png](../blog_img/blog_20230809223958.png)

- Application name: éšä¾¿å¡«å†™ä¸€ä¸ªåç§°ã€‚
- Homepage URLï¼šå¡«å†™åšå®¢çš„é¦–é¡µåœ°å€
- Authorization callback URLï¼šå¡«å†™åšå®¢çš„é¦–é¡µåœ°å€

ç„¶åç‚¹å‡»æ³¨å†Œåº”ç”¨ã€‚

3. å¦‚å›¾å¯ä»¥çœ‹åˆ°idå·²ç»ç”Ÿæˆäº†ã€‚ä¹‹åç‚¹å‡»æŒ‰é’®ç”Ÿæˆå¯†é’¥ã€‚

![blog_20230809224648.png](../blog_img/blog_20230809224648.png)

4. ç„¶ååœ¨å·¥ç¨‹çš„config.jsä¸Šæ·»åŠ ä»£ç 

```js
//config.js
module.exports = {
  theme: 'reco',
  themeConfig: {
    vssueConfig: {
      platform: 'github',
      owner: 'OWNER_OF_REPO',
      repo: 'NAME_OF_REPO',
      clientId: 'YOUR_CLIENT_ID',
      clientSecret: 'YOUR_CLIENT_SECRET',
    }
  }
}
```

- clientId: å¡«å†™ä½ åˆšåˆšç”Ÿæˆçš„clientId
- clientSecretï¼šå¡«å†™ä½ åˆšåˆšç”Ÿæˆçš„clientSecret
- ownerï¼šå¡«å†™ä½ çš„githubåç§°ï¼Œä¾‹å¦‚suichentree
- repoï¼šå¡«å†™ä½ çš„åšå®¢æ‰€åœ¨çš„ä»“åº“åç§°ã€‚ä¾‹å¦‚`suichentree.github.io`

5. ç„¶åæ‰“åŒ…å·¥ç¨‹ï¼Œæ›´æ–°åšå®¢ä»£ç åˆ°ä»“åº“ä¸­ã€‚

6. ç„¶åå¯ä»¥åœ¨æ¯ç¯‡æ–‡ç« çš„æœ€åº•éƒ¨ã€‚çœ‹åˆ°è¯„è®ºåŒºåŸŸ
![blog_20230809230133.png](../blog_img/blog_20230809230133.png)

> å¦‚ä½•è¯„è®ºï¼Ÿ
1. ç›´æ¥ç‚¹å‡»ä¸Šå›¾çš„ç™»å½•ã€‚ç”¨ä½ çš„githubè´¦å·å…ˆç™»å½•ã€‚
2. ç„¶åç‚¹å‡»åˆ›å»º Issue 
3. ä¹‹åå°±å¯ä»¥åœ¨è¯„è®ºæ¡†ä¸­è¾“å…¥ä½ çš„è¯„è®ºã€‚ç‚¹å‡»å‘è¡¨è¯„è®ºæŒ‰é’®å³å¯ã€‚
4. ä¹‹åå°±å¯ä»¥çœ‹åˆ°ä½ çš„è¯„è®ºäº†ã€‚

![blog_20230809230625.png](../blog_img/blog_20230809230625.png)

> è¯„è®ºæ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨çš„ï¼Ÿ

![blog_20230809230847.png](../blog_img/blog_20230809230847.png)

å½“ä½ åœ¨æŸä¸ªæ–‡ç« æœ€ä¸‹æ–¹ç‚¹å‡»åˆ›å»º Issue çš„æ—¶å€™ã€‚ç›¸å½“äºç»™åšå®¢ä»“åº“ï¼Œåˆ›å»ºäº†ä¸€ä¸ªissue, è¯„è®ºå†…å®¹å°±æ˜¯issueçš„å†…å®¹ã€‚ 


## åšå®¢é¦–é¡µå‰¯æ ‡é¢˜æ·»åŠ æ‰“å­—æœºæ•ˆæœ

ç”±äºvuepress-recoä¸»é¢˜æœ¬èº«æ²¡æœ‰æ‰“å­—æœºæ•ˆæœæ’ä»¶ï¼Œäºæ˜¯åœ¨npmç½‘ç«™ä¸Šæ‰¾åˆ°æ‰“å­—æœºæ•ˆæœæ’ä»¶ï¼Œå¹¶ç»™åšå®¢é¦–é¡µçš„å‰¯æ ‡é¢˜æ·»åŠ æ‰“å­—æœºæ•ˆæœã€‚

![20230530134728.gif](../blog_img/20230530134728.gif)

æ‰“å­—æœºæ•ˆæœæ’ä»¶ï¼švuepress-plugin-typed
[vuepress-plugin-typedé“¾æ¥](https://www.npmjs.com/package/vuepress-plugin-typed)

> å®ç°æ–¹æ³•

1. å®‰è£…æ’ä»¶
```
npm i vuepress-plugin-typed
```

2. åœ¨å·¥ç¨‹çš„config.jsä¸­é…ç½®æ‰“å­—æœºæ’ä»¶
```js
// config.js
module.exports = {
  //.....
  "plugins": [
    //å‰¯æ ‡é¢˜-æ‰“å­—æœºæ•ˆæœçš„æ’ä»¶
    ['typed',{
      // é¦–é¡µå‰¯æ ‡é¢˜å¯¹åº”çš„æ ‡ç­¾é€‰æ‹©å™¨
      selector: '.home-blog .hero .description',
      // æ‰“å­—å†…å®¹
      strings: [
        "æµ·é‡Œçš„å’¸é±¼ (;-_-)á´‡á´á´á´ â€”â€”suichentree",
        "è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ â€”â€”å±ˆåŸ"
      ],
      typeSpeed: 150, // æ‰“å­—é€Ÿåº¦
      backSpeed: 100, // å›é€€é€Ÿåº¦
      showCursor: true, //æ˜¯å¦æ˜¾ç¤ºå…‰æ ‡
      startDelay: 1000,    //å»¶è¿Ÿå¼€å§‹æ‰“å­—
      backDelay: 2000,  //å»¶è¿Ÿå¤šå°‘æ—¶é—´å¼€å§‹å›é€€
      }
    ]
  ]
}
```

3. åœ¨åšå®¢é¦–é¡µREADME.mdè®¾ç½®å‰¯æ ‡é¢˜ã€‚å¦‚æœä¸è®¾ç½®å‰¯æ ‡é¢˜ï¼Œä¼šå¯¼è‡´æ‰“å­—æœºæ•ˆæœæ— æ³•ç”Ÿæ•ˆ

```
# taglineå‰¯æ ‡é¢˜ä¸ºç©ºï¼ŒçœŸæ­£çš„å‰¯æ ‡é¢˜å†…å®¹é…ç½®åœ¨config.jsä¸­
tagline: ""
```

4. æ‰“å­—æœºæ’ä»¶æ›´å¤šçš„é…ç½®ï¼Œç‚¹å‡»é“¾æ¥è‡ªå·±æŸ¥é˜…ã€‚

[vuepress-plugin-typedåœ°å€](https://www.npmjs.com/package/vuepress-plugin-typed)


## åšå®¢æ·»åŠ ç•™è¨€æ¿é¡µé¢

vuepress-recoä¸»é¢˜æœ¬èº«æ²¡æœ‰å¼€å¯ç•™è¨€æ¿é¡µé¢ï¼Œéœ€è¦è‡ªè¡Œæ·»åŠ ã€‚

ç•™è¨€æ¿æ•ˆæœ
![blog_20230810000512.png](../blog_img/blog_20230810000512.png)

> å®ç°æ–¹å¼

1. åœ¨å½“å‰å·¥ç¨‹çš„blogsç›®å½•åˆ›å»ºç•™è¨€æ¿ç›®å½•ã€‚åœ¨ç•™è¨€æ¿ç›®å½•ä¸­åˆ›å»ºmessageBoard.mdæ–‡ä»¶

messageBoard.mdæ–‡ä»¶å†…å®¹å¦‚ä¸‹
```md
---
title: 'ç•™è¨€æ¿'
date: 2023-08-09
isShowComments: true
---

::: tip
ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ 

æ¬¢è¿å¤§å®¶åœ¨æ­¤ç•™ä¸‹ä½ çš„å»ºè®®å’Œæ„è§ï¼Œæˆ–è€…åœ¨ [GitHub](https://github.com/suichentree/suichentree.github.io) æäº¤ä½ çš„ç•™è¨€ã€‚

ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰ğŸ‰
:::

```

2. åœ¨å·¥ç¨‹çš„config.jsä¸­æ·»åŠ ç•™è¨€æ¿é…ç½®ã€‚

```js
//config.js
module.exports = {
  //.......
  "themeConfig": {
    //å¤´éƒ¨å¯¼èˆªæ 
    "nav": [
      //ç•™è¨€æ¿é…ç½®
      {
        "text": "ç•™è¨€æ¿",
        "link": "/blogs/ç•™è¨€æ¿/messageBoard.html",
        "icon": "reco-suggestion",
      }
    ]
  }
}

```

3. é‡æ–°è¿è¡Œå·¥ç¨‹ã€‚


## åšå®¢æ·»åŠ ç™¾åº¦ç»Ÿè®¡

ç»™åšå®¢æ·»åŠ è®¿é—®ç»Ÿè®¡åŠŸèƒ½ï¼Œä½¿ç”¨ç™¾åº¦ç»Ÿè®¡å·¥å…·ã€‚

> å®ç°æ–¹å¼

1. è®¿é—®ç™¾åº¦ç»Ÿè®¡ç½‘ç«™,ç™»å½•è‡ªå·±çš„ç™¾åº¦è´¦æˆ·ã€‚[ç™¾åº¦ç»Ÿè®¡](https://tongji.baidu.com/)

2. ä½¿ç”¨è®¾ç½®-ã€‹æ–°å¢ç½‘ç«™

![blog_20230810001942.png](../blog_img/blog_20230810001942.png)
![blog_20230810002038.png](../blog_img/blog_20230810002038.png)

- åŸŸåï¼šå¡«å†™åšå®¢çš„åŸŸåã€‚ä¾‹å¦‚`suichentree.github.io`
- é¦–é¡µï¼šå¡«å†™åšå®¢é¦–é¡µçš„ç½‘å€ã€‚ä¾‹å¦‚`https://suichentree.github.io`

3. æ–°å¢ç½‘å€åï¼Œæ‰¾åˆ°è®¿é—®ç»Ÿè®¡ä»£ç ã€‚

![blog_20230810002529.png](../blog_img/blog_20230810002529.png)

4. åœ¨å·¥ç¨‹çš„config.jsä¸­æ·»åŠ è¿™æ®µä»£ç ã€‚

```js
module.exports = {
    head: [
      [
        'script', {}, `
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?xxxxxxxxxxxxxxxxxxx";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
        </script>        
        `
      ]
    ]
}
```

5. æœ¬åœ°éªŒè¯

æœ¬åœ°è¿è¡Œå‰ç«¯å·¥ç¨‹ï¼Œè®¿é—®é¡µé¢ã€‚åœ¨F12æ§åˆ¶å°çš„ç½‘ç»œé¡µé¢æŸ¥çœ‹è¯·æ±‚ã€‚

![blog_20230810002935.png](../blog_img/blog_20230810002935.png)

è‹¥æˆåŠŸè¯·æ±‚äº†hm.jså’Œhm.gif ï¼Œè¡¨æ˜éªŒè¯æˆåŠŸã€‚

6. çº¿ä¸ŠéªŒè¯

å°†æœ€æ–°çš„åšå®¢ä»£ç æäº¤åˆ°githubä¸Š,éƒ¨ç½²å®Œæˆåã€‚åœ¨ä»£ç æ£€æŸ¥å¤„ï¼Œç‚¹å‡»å¼€å§‹æ£€æŸ¥æŒ‰é’®ã€‚è¿›è¡Œçº¿ä¸ŠéªŒè¯ã€‚

![blog_20230810003253.png](../blog_img/blog_20230810003253.png)

<font color="red">æ³¨æ„ï¼šå¦‚æœä½ å½“å‰çš„ä¸Šç½‘çŠ¶æ€æ˜¯ç§‘å­¦ä¸Šç½‘ï¼Œé‚£ä¹ˆä»£ç æ£€æŸ¥å¯èƒ½å¤±è´¥ã€‚éœ€è¦æ¢å¤åˆ°åŸæ¥çš„ä¸Šç½‘çŠ¶æ€ï¼Œå†é‡æ–°è¿›è¡Œä»£ç æ£€æŸ¥ã€‚</font>

7. å¦‚æœæ£€æŸ¥æˆåŠŸï¼Œä¸€èˆ¬20åˆ†é’Ÿåï¼Œå°±å¯ä»¥çœ‹åˆ°åšå®¢çš„è®¿é—®ç»Ÿè®¡æ•°æ®äº†ã€‚

### å•é¡µé¢åº”ç”¨çš„è®¿é—®ç»Ÿè®¡é—®é¢˜

é€šè¿‡åœ¨ head ä¸­å¼•å…¥ç™¾åº¦ç»Ÿè®¡ä»£ç ï¼Œå¦‚æœæ˜¯æ™®é€šçš„é¡µé¢ï¼Œæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯ VuePress æ­å»ºçš„æ˜¯ä¸€ä¸ªå•é¡µåº”ç”¨ï¼Œé¡µé¢åˆ‡æ¢è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šé‡æ–°åŠ è½½é¡µé¢ï¼Œè‡ªç„¶ä¹Ÿä¸ä¼šè§¦å‘ç™¾åº¦ç»Ÿè®¡ã€‚æ‰€ä»¥åªèƒ½ç»Ÿè®¡åˆ°ç”¨æˆ·è®¿é—®äº†é¡µé¢ï¼Œä½†å…·ä½“ç‚¹å¼€äº†å“ªäº›æ–‡ç« ï¼Œè·³è½¬äº†å“ªäº›è·¯ç”±å¹¶ä¸çŸ¥é“ã€‚ä¸ºäº†å®ç°è·¯ç”±åˆ‡æ¢æ—¶çš„æ•°æ®ç»Ÿè®¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç›‘å¬è·¯ç”±æ”¹å˜ï¼Œæ‰‹åŠ¨ä¸ŠæŠ¥æ•°æ®ï¼Œé‚£å…·ä½“æˆ‘ä»¬è¯¥æ€ä¹ˆåšå‘¢?

> å®ç°æ–¹å¼

1. åœ¨.vuepress ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª enhanceApp.js æ–‡ä»¶ã€‚

enhanceApp.jsæ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹ä»£ç ã€‚
```js
export default ({ router }) => {
    router.beforeEach((to, from, next) => {
      if (typeof _hmt !== "undefined") {
        if (to.path) {
          _hmt.push(["_trackPageview", to.fullPath]);
        }
      }
      next();
    });
  };
```

2. é‡æ–°æäº¤ä»£ç åˆ°githubä»“åº“ä¸­ã€‚ 
3. è®¿é—®åšå®¢é¡µé¢ï¼Œè¿›å…¥åˆ°å…¶ä»–æ–‡ç« ä¸­ã€‚ç°åœ¨è¿›å…¥åˆ°å…¶ä»–æ–‡ç« é¡µé¢ä¸­ï¼Œä¹Ÿä¼šè§¦å‘ç™¾åº¦ç»Ÿè®¡åŠŸèƒ½ã€‚